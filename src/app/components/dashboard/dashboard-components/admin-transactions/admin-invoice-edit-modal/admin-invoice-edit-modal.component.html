<!--modal header-->
<div class="modal-header">
  <h4 class="modal-title col-4">Invoice Editing </h4>
  <div class="d-flex">
  <p> Invoice No.&nbsp; {{item.InvoiceNum}}</p>
</div>
  <button
    type="button"
    class="btn btn-sm btn-info tl_mu_btn"
    aria-label="Close"
    (click)="activeModal.dismiss('Cross click')"
  >
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<!--modal body-->
<div class="modal-body">
  <form [formGroup]="invoiceEditForm" class="justify-content-between">
    <div class="form-group row justify-content-center">
      <div class="col-5">
        <div>
          <label class="mt-2">Course Name</label>
          <input class="form-control" type="text" formControlName="CourseName"/>
          <!-- <small *ngIf="invoiceEditForm.get('CourseName').touched && invoiceEditForm.get('CourseName').invalid">(Course Name)</small> -->
        </div>
        <div>
          <label class="mt-2">Begining at</label>
          <input class="form-control" type="date" formControlName='BeginDate'/>
          <!-- <small *ngIf="invoiceEditForm.get('BeginDate').touched">(Begining Date)</small> -->
        </div>
      </div>

      <div class="col-5">
        <div>
          <label class="mt-2">Lesson Quantity</label>
          <input class="form-control" type="number" min="0" formControlName="LessonQuantity"/>
          <!-- <small *ngIf="invoiceEditForm.get('LessonQuantity').touched">(Lesson quantity)</small> -->
        </div>
        <div>
          <label class="mt-2">Lesson Fee</label>
          <input class="form-control" type="number" min="0" formControlName="LessonFee"/>
          <!-- <small *ngIf="invoiceEditForm.get('LessonFee').touched">(Lesson Fee)</small> -->
        </div>
      </div>

      <div class="col-5">
        <label class="mt-2">Concert Term and Date</label>
        <input class="form-control" type="text" formControlName="Concert" />
        <!-- <small *ngIf="invoiceEditForm.get('CourseName').touched"
          >(Concert term and date, e.g.,concert for term 1, yyyy-dd-mm)</small
        > -->
      </div>
      <div class="col-5">
        <label class="mt-2">Concert Fee</label>
        <input class="form-control" type="number" min='0' formControlName="ConcertFee"/>
        <!-- <small *ngIf="invoiceEditForm.get('ConcertFee').touched">(Concert Fee)</small> -->
      </div>
      <div class="col-5">
        <label class="mt-2">Lesson Note Term and Date</label>
        <input class="form-control" type="text" formControlName='Note'/>
        <!-- <small *ngIf="invoiceEditForm.get('Note').touched"
          >(e.g.,Lesson Note term 1, yyyy-dd-mm)</small
        > -->
      </div>
      <div class="col-5">
        <label class="mt-2">Note Fee</label>
        <input class="form-control" type="number" min='0' formControlName="NoteFee"/>
        <!-- <small *ngIf="invoiceEditForm.get('NoteFee').touched">(Note Fee)</small> -->
      </div>
    </div>
    <hr />
    <div class="form-group row justify-content-center">
      <div class="col-5">
        <label class="mt-2">Others 1</label>
        <input class="form-control" type="text" formControlName="Other1FeeName"/>
        <!-- <small *ngIf="invoiceEditForm.get('Other1FeeName').touched">(Other1 Fee title)</small> -->
      </div>
      <div class="col-5">
        <label class="mt-2">Others Fee 1</label>
        <input class="form-control" type="number" min='0' formControlName="Other1Fee"/>
        <!-- <small *ngIf="invoiceEditForm.get('Other1Fee').touched">(Other1 Fee)</small> -->
      </div>

      <div class="col-5">
        <label class="mt-2">Others 2</label>
        <input class="form-control" type="text" formControlName="Other2FeeName"/>
        <!-- <small *ngIf="invoiceEditForm.get('Other2FeeName').touched && invoiceEditForm.get('Other2FeeName').invalid"
          >(Other2 Fee title)</small
        > -->
      </div>
      <div class="col-5">
        <label class="mt-2">Others Fee 2</label>
        <input
          class="form-control"
          type="number"
          onkeypress="return (/[\d]/.test(String.fromCharCode(event.keyCode)))" min='0' formControlName="Other2Fee"
        />
        <!-- <small *ngIf="invoiceEditForm.get('Other2Fee').touched">(Other2 Fee)</small> -->
      </div>
      <div class="col-5">
        <label class="mt-2">Others 3</label>
        <input class="form-control" type="text" formControlName="Other3FeeName"/>
        <!-- <small *ngIf="invoiceEditForm.get('Other3FeeName').touched"
          >(Other3 Fee title)</small -->
      </div>
      <div class="col-5">
        <label class="mt-2">Other Fee 3</label>
        <input class="form-control" type="number" min="0" formControlName="Other3Fee"/>
        <!-- <small *ngIf="invoiceEditForm.get('Other3Fee').touched">(Other3 Fee)</small> -->
      </div>
    </div>
    <hr />
     <div class="form-group row justify-content-center">
      <div class="col-5">
        <label class="mt-2"> All Subject in Total:</label>
        <p>{{owingFeeLocal}}</p>
      </div>
      <div class="col-5">
        <label class="mt-2"> Due Date:</label> <p>{{dueDateLocal|date:'medium'}}</p>
      </div>
    </div>
  </form>
</div>

<!--modal footer-->
<div class="modal-footer">
  <button
    type="button"
    class="btn btn-outline-dark"
    (click)="sendMail(confirmModal)"
    id="save"
  >
    Save
  </button>
  <small *ngIf="errMsgM" class="text-danger"
    >Please make sure all field are correct</small
  >
  <button
    type="button"
    class="btn btn-outline-dark"
    (click)="activeModal.dismiss('Click click')"
  >
    Close
  </button>
</div>
<!-- ng bootstrap alert -->
<ngb-alert *ngIf='successAlert' type="success" (close)="closeSucc()">Your Payment Has Been Made</ngb-alert>
<ngb-alert *ngIf='errorAlert' type="danger" (close)="closeErro()">{{ errorMsg.ErrorCode }}</ngb-alert>

<ng-template #confirmModal let-modal>
  <div class="modal-header m-2">
    <h4>Please Confirm</h4>
    <button
      type="button"
      class="close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <!-- modal-body -->
  <div class="container">
    <div class="d-flex justify-content-center">
      <p>Please click send button by update this invoice to database</p>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-dark" (click)="modal.close('Save')">
      Confirm
    </button>
    <button
      type="button"
      class="btn btn-outline-dark"
      (click)="modal.dismiss('Cross click')"
    >
      Cancel
    </button>
  </div>
</ng-template>
